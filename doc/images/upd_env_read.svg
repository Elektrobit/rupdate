<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="631px" preserveAspectRatio="none" style="width:709px;height:631px;" version="1.1" viewBox="0 0 709 631" width="709px" zoomAndPan="magnify"><defs><filter height="300%" id="f1xr58o5qh2ozv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1xr58o5qh2ozv)" height="617.9487" style="stroke: #000000; stroke-width: 1.0;" width="695.5" x="3" y="3"/><path d="M124,4 L124,15.0679 L114,25.0679 L3,25.0679 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="6" y="18.9659">update env read</text><rect fill="#DDDDDD" height="570.5718" style="stroke: #A80036; stroke-width: 1.0;" width="666.5" x="24" y="33.0679"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="333.75" y="46.9649">System</text><rect fill="#FFFFFF" filter="url(#f1xr58o5qh2ozv)" height="174.7878" style="stroke: #000000; stroke-width: 2.0;" width="441.5" x="18" y="386.1459"/><rect fill="#FFFFFF" height="61.6879" style="stroke: none; stroke-width: 1.0;" width="441.5" x="18" y="450.5579"/><rect fill="#FFFFFF" height="48.6879" style="stroke: none; stroke-width: 1.0;" width="441.5" x="18" y="512.2458"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="55" x2="55" y1="138.9098" y2="609.6397"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="210" x2="210" y1="138.9098" y2="609.6397"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="454.5" x2="454.5" y1="138.9098" y2="609.6397"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="612.5" x2="612.5" y1="138.9098" y2="609.6397"/><rect fill="#FEFECE" filter="url(#f1xr58o5qh2ozv)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="28" y="100.8419"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="35" y="122.8078">caller</text><rect fill="#FEFECE" filter="url(#f1xr58o5qh2ozv)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="179" y="100.8419"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="186" y="122.8078">reader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="380.5" y="115.7399">update environment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="421" y="134.8078">location 1</text><path d="M436.5,64.7739 C436.5,54.7739 454.5,54.7739 454.5,54.7739 C454.5,54.7739 472.5,54.7739 472.5,64.7739 L472.5,90.7739 C472.5,100.7739 454.5,100.7739 454.5,100.7739 C454.5,100.7739 436.5,100.7739 436.5,90.7739 L436.5,64.7739 " fill="#FEFECE" filter="url(#f1xr58o5qh2ozv)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M436.5,64.7739 C436.5,74.7739 454.5,74.7739 454.5,74.7739 C454.5,74.7739 472.5,74.7739 472.5,64.7739 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="538.5" y="115.7399">update environment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="579" y="134.8078">location 2</text><path d="M594.5,64.7739 C594.5,54.7739 612.5,54.7739 612.5,54.7739 C612.5,54.7739 630.5,54.7739 630.5,64.7739 L630.5,90.7739 C630.5,100.7739 612.5,100.7739 612.5,100.7739 C612.5,100.7739 594.5,100.7739 594.5,90.7739 L594.5,64.7739 " fill="#FEFECE" filter="url(#f1xr58o5qh2ozv)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M594.5,64.7739 C594.5,74.7739 612.5,74.7739 612.5,74.7739 C612.5,74.7739 630.5,74.7739 630.5,64.7739 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#EEEEEE" filter="url(#f1xr58o5qh2ozv)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="683.5" x="8" y="170.7628"/><line style="stroke: #000000; stroke-width: 1.0;" x1="8" x2="691.5" y1="170.7628" y2="170.7628"/><line style="stroke: #000000; stroke-width: 1.0;" x1="8" x2="691.5" y1="173.7628" y2="173.7628"/><rect fill="#EEEEEE" filter="url(#f1xr58o5qh2ozv)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="50" x="324.75" y="158.9098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="330.75" y="176.8068">Read</text><polygon fill="#A80036" points="198.5,214.3218,208.5,218.3218,198.5,222.3218,202.5,218.3218" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="204.5" y1="218.3218" y2="218.3218"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="62.5" y="212.5128">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="73.5" y="212.5128">request read</text><polygon fill="#A80036" points="442.5,246.0278,452.5,250.0278,442.5,254.0278,446.5,250.0278" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="210.5" x2="448.5" y1="250.0278" y2="250.0278"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="217.5" y="244.2188">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="228.5" y="244.2188">read raw data</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="210.5" x2="252.5" y1="281.7338" y2="281.7338"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="252.5" x2="252.5" y1="281.7338" y2="294.7338"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="211.5" x2="252.5" y1="294.7338" y2="294.7338"/><polygon fill="#A80036" points="221.5,290.7338,211.5,294.7338,221.5,298.7338,217.5,294.7338" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="217.5" y="275.9248">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="228.5" y="275.9248">verify ID, version and checksum</text><polygon fill="#A80036" points="600.5,322.4398,610.5,326.4398,600.5,330.4398,604.5,326.4398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="210.5" x2="606.5" y1="326.4398" y2="326.4398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="217.5" y="320.6308">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="228.5" y="320.6308">read raw data</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="210.5" x2="252.5" y1="358.1459" y2="358.1459"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="252.5" x2="252.5" y1="358.1459" y2="371.1459"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="211.5" x2="252.5" y1="371.1459" y2="371.1459"/><polygon fill="#A80036" points="221.5,367.1459,211.5,371.1459,221.5,375.1459,217.5,371.1459" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="217.5" y="352.3369">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="228.5" y="352.3369">verify ID, version and checksum</text><path d="M18,386.1459 L81,386.1459 L81,395.1459 L71,405.1459 L18,405.1459 L18,386.1459 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="174.7878" style="stroke: #000000; stroke-width: 2.0;" width="441.5" x="18" y="386.1459"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="33" y="401.0429">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="96" y="399.9048">[only one valid]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="210.5" x2="252.5" y1="429.5579" y2="429.5579"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="252.5" x2="252.5" y1="429.5579" y2="442.5579"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="211.5" x2="252.5" y1="442.5579" y2="442.5579"/><polygon fill="#A80036" points="221.5,438.5579,211.5,442.5579,221.5,446.5579,217.5,442.5579" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="217.5" y="423.7489">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="228.5" y="423.7489">select valid data</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="18" x2="459.5" y1="451.5579" y2="451.5579"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="23" y="463.3168">[two valid]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="210.5" x2="252.5" y1="491.2458" y2="491.2458"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="252.5" x2="252.5" y1="491.2458" y2="504.2458"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="211.5" x2="252.5" y1="504.2458" y2="504.2458"/><polygon fill="#A80036" points="221.5,500.2458,211.5,504.2458,221.5,508.2458,217.5,504.2458" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="217.5" y="485.4368">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="228.5" y="485.4368">select data with highest env_revision</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="18" x2="459.5" y1="513.2458" y2="513.2458"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="23" y="525.0047">[none valid]</text><polygon fill="#A80036" points="66.5,548.9337,56.5,552.9337,66.5,556.9337,62.5,552.9337" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60.5" x2="209.5" y1="552.9337" y2="552.9337"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="72.5" y="547.1247">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="83.5" y="547.1247">report error</text><polygon fill="#A80036" points="66.5,587.6397,56.5,591.6397,66.5,595.6397,62.5,591.6397" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60.5" x2="209.5" y1="591.6397" y2="591.6397"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="72.5" y="585.8307">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="83.5" y="585.8307">return selected data</text><!--MD5=[251d5406f50eea5997735b8a0cc9f77d]
@startuml upd_env_read

hide footbox
autonumber

box "System"
        participant "caller" as caller

        participant "reader" as reader

        database "update environment \n location 1" as updenv1
        database "update environment \n location 2" as updenv2
end box


mainframe update env read


== Read ==

caller -> reader :  request read

reader -> updenv1 : read raw data
reader -> reader : verify ID, version and checksum

reader -> updenv2 : read raw data
reader -> reader : verify ID, version and checksum

alt only one valid

reader -> reader : select valid data

else two valid

reader -> reader : select data with highest env_revision

else none valid

reader -> caller : report error

end

reader -> caller :  return selected data

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.22+7-post-Ubuntu-0ubuntu222.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>